[{"path":"https://agency-fund.github.io/expeer/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 expeer authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://agency-fund.github.io/expeer/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jake Hughey. Author, maintainer.","code":""},{"path":"https://agency-fund.github.io/expeer/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hughey J (2024). expeer: Set randomized experiments. R package version 0.1.0.","code":"@Manual{,   title = {expeer: Set up randomized experiments},   author = {Jake Hughey},   year = {2024},   note = {R package version 0.1.0}, }"},{"path":[]},{"path":"https://agency-fund.github.io/expeer/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Set up randomized experiments","text":"TBD","code":""},{"path":"https://agency-fund.github.io/expeer/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Set up randomized experiments","text":"Install CRAN: TBD. Install development version:","code":"if (!requireNamespace('remotes', quietly = TRUE))   install.packages('remotes') remotes::install_github('agency-fund/expeer')"},{"path":"https://agency-fund.github.io/expeer/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Set up randomized experiments","text":"TBD. details, see reference documentation.","code":""},{"path":"https://agency-fund.github.io/expeer/reference/get_filtered_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter units in the population — get_filtered_units","title":"Filter units in the population — get_filtered_units","text":"Filter units population","code":""},{"path":"https://agency-fund.github.io/expeer/reference/get_filtered_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter units in the population — get_filtered_units","text":"","code":"get_filtered_units(design, pop)"},{"path":"https://agency-fund.github.io/expeer/reference/get_filtered_units.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter units in the population — get_filtered_units","text":"design List corresponding experimental design. pop data.frame containing one row per unit population.","code":""},{"path":"https://agency-fund.github.io/expeer/reference/get_filtered_units.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter units in the population — get_filtered_units","text":"data.table units meet filtering criteria.","code":""},{"path":[]},{"path":"https://agency-fund.github.io/expeer/reference/get_filtered_units.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter units in the population — get_filtered_units","text":"","code":"library('data.table')  set.seed(2603) n = 2000  pop = data.table(   group_id = 1:n,   state = rep_len(c('Karnataka', 'Haryana', 'Bihar'), n),   num_members = rbinom(n, 50, 0.5),   mean_engagement_1wk = rexp(n, 0.1),   mean_engagement_2wk = rnorm(n, 50, 15),   is_happy_2wk = rbinom(n, 1, 0.4))  pop[, district := paste(state, 'District', rep_len(1:2, n))] #>       group_id     state num_members mean_engagement_1wk mean_engagement_2wk #>          <int>    <char>       <int>               <num>               <num> #>    1:        1 Karnataka          25           12.069448            55.96200 #>    2:        2   Haryana          28            9.251577            34.64942 #>    3:        3     Bihar          29            6.832388            50.54502 #>    4:        4 Karnataka          20            4.425029            68.23439 #>    5:        5   Haryana          24            5.004393            60.31465 #>   ---                                                                        #> 1996:     1996 Karnataka          23            3.469513            47.01236 #> 1997:     1997   Haryana          28           14.244982            46.24313 #> 1998:     1998     Bihar          21            3.054885            77.84238 #> 1999:     1999 Karnataka          25           11.162967            56.24280 #> 2000:     2000   Haryana          22           17.799155            89.27962 #>       is_happy_2wk             district #>              <int>               <char> #>    1:            0 Karnataka District 1 #>    2:            1   Haryana District 2 #>    3:            1     Bihar District 1 #>    4:            1 Karnataka District 2 #>    5:            0   Haryana District 1 #>   ---                                   #> 1996:            0 Karnataka District 2 #> 1997:            1   Haryana District 1 #> 1998:            1     Bihar District 2 #> 1999:            0 Karnataka District 1 #> 2000:            0   Haryana District 2 pop[seq(5, n, 80), district := NA] #>       group_id     state num_members mean_engagement_1wk mean_engagement_2wk #>          <int>    <char>       <int>               <num>               <num> #>    1:        1 Karnataka          25           12.069448            55.96200 #>    2:        2   Haryana          28            9.251577            34.64942 #>    3:        3     Bihar          29            6.832388            50.54502 #>    4:        4 Karnataka          20            4.425029            68.23439 #>    5:        5   Haryana          24            5.004393            60.31465 #>   ---                                                                        #> 1996:     1996 Karnataka          23            3.469513            47.01236 #> 1997:     1997   Haryana          28           14.244982            46.24313 #> 1998:     1998     Bihar          21            3.054885            77.84238 #> 1999:     1999 Karnataka          25           11.162967            56.24280 #> 2000:     2000   Haryana          22           17.799155            89.27962 #>       is_happy_2wk             district #>              <int>               <char> #>    1:            0 Karnataka District 1 #>    2:            1   Haryana District 2 #>    3:            1     Bihar District 1 #>    4:            1 Karnataka District 2 #>    5:            0                 <NA> #>   ---                                   #> 1996:            0 Karnataka District 2 #> 1997:            1   Haryana District 1 #> 1998:            1     Bihar District 2 #> 1999:            0 Karnataka District 1 #> 2000:            0   Haryana District 2 pop[seq(5, n, 41), num_members := NA] #>       group_id     state num_members mean_engagement_1wk mean_engagement_2wk #>          <int>    <char>       <int>               <num>               <num> #>    1:        1 Karnataka          25           12.069448            55.96200 #>    2:        2   Haryana          28            9.251577            34.64942 #>    3:        3     Bihar          29            6.832388            50.54502 #>    4:        4 Karnataka          20            4.425029            68.23439 #>    5:        5   Haryana          NA            5.004393            60.31465 #>   ---                                                                        #> 1996:     1996 Karnataka          23            3.469513            47.01236 #> 1997:     1997   Haryana          28           14.244982            46.24313 #> 1998:     1998     Bihar          21            3.054885            77.84238 #> 1999:     1999 Karnataka          25           11.162967            56.24280 #> 2000:     2000   Haryana          22           17.799155            89.27962 #>       is_happy_2wk             district #>              <int>               <char> #>    1:            0 Karnataka District 1 #>    2:            1   Haryana District 2 #>    3:            1     Bihar District 1 #>    4:            1 Karnataka District 2 #>    5:            0                 <NA> #>   ---                                   #> 1996:            0 Karnataka District 2 #> 1997:            1   Haryana District 1 #> 1998:            1     Bihar District 2 #> 1999:            0 Karnataka District 1 #> 2000:            0   Haryana District 2  ########################################  design = yaml::read_yaml(   system.file('extdata', 'expeer_design_01.yml', package = 'expeer'))  pop_filt = get_filtered_units(design, pop)  power_calcs = get_power(design, pop_filt)  num_randomized_units =   power_calcs[metric_name == 'mean_engagement_2wk']$num_units_for_target_power  pop_rand = get_randomized_units(design, pop_filt, num_randomized_units)"},{"path":"https://agency-fund.github.io/expeer/reference/get_randomized_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up a randomized experiment — get_power","title":"Set up a randomized experiment — get_power","text":"get_stratified_units() used get_randomized_units() normally need called directly.","code":""},{"path":"https://agency-fund.github.io/expeer/reference/get_randomized_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up a randomized experiment — get_power","text":"","code":"get_power(design, pop_filt)  get_stratified_units(design, pop_filt)  get_randomized_units(design, pop_filt, num_randomized_units)"},{"path":"https://agency-fund.github.io/expeer/reference/get_randomized_units.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up a randomized experiment — get_power","text":"design List corresponding experimental design. pop_filt data.frame containing one row per unit available experiment. num_randomized_units Number units randomize experiment.","code":""},{"path":"https://agency-fund.github.io/expeer/reference/get_randomized_units.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up a randomized experiment — get_power","text":"get_power() returns data.table power calculations, one row per metric. get_stratified_units() returns data.table one row per unit columns stratification. get_randomized_units() returns data.table one row per unit columns stratification random assignment experiment arms.","code":""},{"path":[]},{"path":"https://agency-fund.github.io/expeer/reference/get_randomized_units.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up a randomized experiment — get_power","text":"","code":"library('data.table')  set.seed(2603) n = 2000  pop = data.table(   group_id = 1:n,   state = rep_len(c('Karnataka', 'Haryana', 'Bihar'), n),   num_members = rbinom(n, 50, 0.5),   mean_engagement_1wk = rexp(n, 0.1),   mean_engagement_2wk = rnorm(n, 50, 15),   is_happy_2wk = rbinom(n, 1, 0.4))  pop[, district := paste(state, 'District', rep_len(1:2, n))] #>       group_id     state num_members mean_engagement_1wk mean_engagement_2wk #>          <int>    <char>       <int>               <num>               <num> #>    1:        1 Karnataka          25           12.069448            55.96200 #>    2:        2   Haryana          28            9.251577            34.64942 #>    3:        3     Bihar          29            6.832388            50.54502 #>    4:        4 Karnataka          20            4.425029            68.23439 #>    5:        5   Haryana          24            5.004393            60.31465 #>   ---                                                                        #> 1996:     1996 Karnataka          23            3.469513            47.01236 #> 1997:     1997   Haryana          28           14.244982            46.24313 #> 1998:     1998     Bihar          21            3.054885            77.84238 #> 1999:     1999 Karnataka          25           11.162967            56.24280 #> 2000:     2000   Haryana          22           17.799155            89.27962 #>       is_happy_2wk             district #>              <int>               <char> #>    1:            0 Karnataka District 1 #>    2:            1   Haryana District 2 #>    3:            1     Bihar District 1 #>    4:            1 Karnataka District 2 #>    5:            0   Haryana District 1 #>   ---                                   #> 1996:            0 Karnataka District 2 #> 1997:            1   Haryana District 1 #> 1998:            1     Bihar District 2 #> 1999:            0 Karnataka District 1 #> 2000:            0   Haryana District 2 pop[seq(5, n, 80), district := NA] #>       group_id     state num_members mean_engagement_1wk mean_engagement_2wk #>          <int>    <char>       <int>               <num>               <num> #>    1:        1 Karnataka          25           12.069448            55.96200 #>    2:        2   Haryana          28            9.251577            34.64942 #>    3:        3     Bihar          29            6.832388            50.54502 #>    4:        4 Karnataka          20            4.425029            68.23439 #>    5:        5   Haryana          24            5.004393            60.31465 #>   ---                                                                        #> 1996:     1996 Karnataka          23            3.469513            47.01236 #> 1997:     1997   Haryana          28           14.244982            46.24313 #> 1998:     1998     Bihar          21            3.054885            77.84238 #> 1999:     1999 Karnataka          25           11.162967            56.24280 #> 2000:     2000   Haryana          22           17.799155            89.27962 #>       is_happy_2wk             district #>              <int>               <char> #>    1:            0 Karnataka District 1 #>    2:            1   Haryana District 2 #>    3:            1     Bihar District 1 #>    4:            1 Karnataka District 2 #>    5:            0                 <NA> #>   ---                                   #> 1996:            0 Karnataka District 2 #> 1997:            1   Haryana District 1 #> 1998:            1     Bihar District 2 #> 1999:            0 Karnataka District 1 #> 2000:            0   Haryana District 2 pop[seq(5, n, 41), num_members := NA] #>       group_id     state num_members mean_engagement_1wk mean_engagement_2wk #>          <int>    <char>       <int>               <num>               <num> #>    1:        1 Karnataka          25           12.069448            55.96200 #>    2:        2   Haryana          28            9.251577            34.64942 #>    3:        3     Bihar          29            6.832388            50.54502 #>    4:        4 Karnataka          20            4.425029            68.23439 #>    5:        5   Haryana          NA            5.004393            60.31465 #>   ---                                                                        #> 1996:     1996 Karnataka          23            3.469513            47.01236 #> 1997:     1997   Haryana          28           14.244982            46.24313 #> 1998:     1998     Bihar          21            3.054885            77.84238 #> 1999:     1999 Karnataka          25           11.162967            56.24280 #> 2000:     2000   Haryana          22           17.799155            89.27962 #>       is_happy_2wk             district #>              <int>               <char> #>    1:            0 Karnataka District 1 #>    2:            1   Haryana District 2 #>    3:            1     Bihar District 1 #>    4:            1 Karnataka District 2 #>    5:            0                 <NA> #>   ---                                   #> 1996:            0 Karnataka District 2 #> 1997:            1   Haryana District 1 #> 1998:            1     Bihar District 2 #> 1999:            0 Karnataka District 1 #> 2000:            0   Haryana District 2  ########################################  design = yaml::read_yaml(   system.file('extdata', 'expeer_design_01.yml', package = 'expeer'))  pop_filt = get_filtered_units(design, pop)  power_calcs = get_power(design, pop_filt)  num_randomized_units =   power_calcs[metric_name == 'mean_engagement_2wk']$num_units_for_target_power  pop_rand = get_randomized_units(design, pop_filt, num_randomized_units)"},{"path":"https://agency-fund.github.io/expeer/news/index.html","id":"expeer-010","dir":"Changelog","previous_headings":"","what":"expeer 0.1.0","title":"expeer 0.1.0","text":"wip","code":""}]
